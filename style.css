:root{
  --bg:#0f1115; /* near-black */
  --panel:#151922;
  --soft:#1b2130;
  --text:#f5f7fb;
  --muted:#c9ced8; /* silver */
  --accent:#9aa4b2;
  --primary:#d1d5db;
  --primary-ink:#0b0d12;
  --ok:#8bffc3;
  --warn:#ffd166;
  --danger:#ff6b6b;
  --border:#2a3344;
}
/* Light theme overrides */
[data-theme="light"]{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --soft:#f2f3f7;
  --text:#0b0d12;
  --muted:#374151;
  --accent:#667085;
  --primary:#111827;
  --primary-ink:#ffffff;
  --ok:#0e9f6e;
  --warn:#b45309;
  --danger:#b91c1c;
  --border:#e5e7eb;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif; color:var(--text); background:linear-gradient(180deg, #0e1117 0%, #0a0c10 100%);
  transition: background-color .2s ease, color .2s ease;
}
[data-theme="light"] body{ background:linear-gradient(180deg, #fafafa 0%, #f4f6f8 100%) }

.app-header{
  display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--border); background:rgba(10,12,16,0.8); backdrop-filter:saturate(150%) blur(6px); position:sticky; top:0; z-index:10;
}
[data-theme="light"] .app-header{ background:rgba(255,255,255,0.8) }
.brand{display:flex; gap:12px; align-items:center}
.logo{width:36px; height:36px; display:grid; place-items:center; background:var(--soft); border-radius:8px; border:1px solid var(--border)}
.title h1{font-size:18px; margin:0}
.title small{color:var(--muted)}

.tabs{display:flex; gap:8px; flex-wrap:wrap}
.tab{background:transparent; color:var(--muted); border:1px solid var(--border); padding:8px 12px; border-radius:8px; cursor:pointer}
.tab.active{background:var(--primary); color:var(--primary-ink); border-color:transparent; font-weight:600}
.tab:hover{border-color:var(--accent); color:#fff}
[data-theme="light"] .tab:hover{ color:var(--primary) }

#views{padding:16px; max-width:1200px; margin:0 auto}
.view{display:none}
.view.active{display:block}

.view-header{display:flex; align-items:center; justify-content:space-between; margin:12px 0}
.inline-stats{display:flex; gap:12px; color:var(--muted)}
.inline-stats .warn{color:var(--warn)}

.panel{background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px; margin:12px 0}
.panel.soft{background:var(--soft)}
.panel-header{display:flex; flex-direction:column; gap:12px}

.search input{width:100%; padding:10px 12px; background:var(--soft); color:var(--text); border:1px solid var(--border); border-radius:10px}

.actions{display:flex; gap:8px; align-items:center}
.actions.end{justify-content:flex-end}

button,.file-btn{appearance:none; border:1px solid var(--border); background:var(--soft); color:var(--text); padding:10px 14px; border-radius:10px; cursor:pointer}
button.primary{background:var(--primary); color:var(--primary-ink); border-color:transparent; font-weight:600}
button.secondary{background:#e5e7eb; color:#111827; border-color:transparent}
button.ghost{background:transparent; color:var(--muted)}
button.danger{background:transparent; color:var(--danger); border-color:var(--danger)}
button:disabled{opacity:.6; cursor:not-allowed}
.file-btn{display:inline-flex; align-items:center; gap:8px; position:relative; overflow:hidden}
.file-btn input[type=file]{position:absolute; inset:0; opacity:0; cursor:pointer}

.grid-2{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px}
.grid-3{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px}
@media (max-width: 900px){.grid-2,.grid-3{grid-template-columns:1fr}}

label{display:flex; flex-direction:column; gap:6px; color:var(--muted)}
input,select,textarea{padding:10px 12px; background:var(--soft); color:var(--text); border:1px solid var(--border); border-radius:10px}
textarea{min-height:72px}

.table-wrap{overflow:auto; border-radius:10px; border:1px solid var(--border)}
table{width:100%; border-collapse:collapse; background:#0f1320}
thead{background:#0b0e17}
th,td{padding:10px 12px; border-bottom:1px solid #1e2636; text-align:left}
tr.low{background:linear-gradient(90deg, rgba(255,209,102,0.12), transparent)}
tr:hover{background:rgba(255,255,255,0.03)}
[data-theme="light"] table{ background:#ffffff }
[data-theme="light"] thead{ background:#f3f4f6 }
[data-theme="light"] th, [data-theme="light"] td{ border-bottom:1px solid #e5e7eb }
[data-theme="light"] tr:hover{ background:rgba(0,0,0,0.03) }

.right{text-align:right}
.total{font-weight:700}

.dialog{border:1px solid var(--border); border-radius:12px; padding:0; background:var(--panel); color:var(--text)}
.dialog form{padding:12px}
.dialog form h3{margin:8px 0 12px}
.dialog menu{display:flex; gap:8px; justify-content:flex-end; padding:12px; margin:0; border-top:1px solid var(--border)}

.status{background:#0b0e17; padding:12px; border-radius:10px; border:1px solid var(--border); color:#b7c0cf; white-space:pre-wrap}
[data-theme="light"] .status{ background:#f3f4f6; color:#111827; border-color:#e5e7eb }

.app-footer{display:flex; justify-content:space-between; padding:12px 16px; color:var(--muted); border-top:1px solid var(--border)}

.header-actions{display:flex; gap:8px; align-items:center}

.hint{color:var(--muted); margin-top:8px}
.badge{display:inline-block; padding:2px 8px; border-radius:999px; background:#1f2937; color:#e5e7eb; border:1px solid #374151}
.badge.warn{background:rgba(255,209,102,0.12); color:#ffd166; border-color:#ffd166}
[data-theme="light"] .badge{ background:#eef2f7; color:#111827; border-color:#cbd5e1 }
[data-theme="light"] .badge.warn{ background:#fff7e6; color:#b45309; border-color:#f5d48a }

/* Print styles for invoice */
@media print {
  body { background:#fff; color:#000 }
  .app-header, .tabs, .app-footer, #view-inventory, #view-customers, #view-suppliers, #view-export, #view-sync, #view-settings { display:none !important }
  #view-billing { display:block }
  .panel, .panel.soft { border:none; background:#fff; }
}
