:root{
  --bg:#0f1115; /* near-black */
  --panel:#151922;
  --soft:#1b2130;
  --text:#f5f7fb;
  --muted:#c9ced8; /* silver */
  --accent:#9aa4b2;
  --primary:#6366f1; /* indigo */
  --primary-hover:#7c3aed; /* purple */
  --primary-ink:#ffffff;
  --ok:#10b981;
  --warn:#f59e0b;
  --danger:#ef4444;
  --border:#2a3344;
  --shadow:0 4px 6px -1px rgba(0,0,0,0.3), 0 2px 4px -2px rgba(0,0,0,0.2);
  --shadow-lg:0 10px 15px -3px rgba(0,0,0,0.4), 0 4px 6px -4px rgba(0,0,0,0.3);
}
/* Light theme overrides */
[data-theme="light"]{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --soft:#f2f3f7;
  --text:#0b0d12;
  --muted:#64748b;
  --accent:#667085;
  --primary:#6366f1;
  --primary-hover:#7c3aed;
  --primary-ink:#ffffff;
  --ok:#10b981;
  --warn:#f59e0b;
  --danger:#ef4444;
  --border:#e5e7eb;
  --shadow:0 1px 3px 0 rgba(0,0,0,0.1), 0 1px 2px -1px rgba(0,0,0,0.1);
  --shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
}
*{
  box-sizing:border-box; 
  margin:0; 
  padding:0;
}
html{
  scroll-behavior:smooth;
}
html,body{height:100%}
body{
  margin:0; 
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; 
  color:var(--text); 
  background:linear-gradient(135deg, #0e1117 0%, #1a1d29 50%, #0a0c10 100%);
  transition: background 0.3s ease, color 0.3s ease;
  line-height:1.6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
[data-theme="light"] body{ background:linear-gradient(135deg, #fafbfc 0%, #f0f4f8 50%, #e6ebf1 100%) }

/* Scrollbar styling */
::-webkit-scrollbar{width:10px; height:10px}
::-webkit-scrollbar-track{background:var(--soft); border-radius:10px}
::-webkit-scrollbar-thumb{
  background:linear-gradient(135deg, var(--primary), var(--primary-hover)); 
  border-radius:10px;
  transition:background 0.2s ease;
}
::-webkit-scrollbar-thumb:hover{background:var(--primary-hover)}

.app-header{
  display:flex; align-items:center; justify-content:space-between; 
  padding:16px 24px; 
  border-bottom:1px solid var(--border); 
  background:rgba(10,12,16,0.85); 
  backdrop-filter:saturate(180%) blur(12px); 
  position:sticky; top:0; z-index:100;
  box-shadow:var(--shadow);
  transition:all 0.3s ease;
}
[data-theme="light"] .app-header{ background:rgba(255,255,255,0.9) }
.brand{display:flex; gap:12px; align-items:center}
.logo{width:36px; height:36px; display:grid; place-items:center; background:var(--soft); border-radius:8px; border:1px solid var(--border)}
.title h1{font-size:18px; margin:0}
.title small{color:var(--muted)}

.tabs{display:flex; gap:8px; flex-wrap:wrap}
.tab{
  background:transparent; 
  color:var(--muted); 
  border:1px solid var(--border); 
  padding:10px 16px; 
  border-radius:10px; 
  cursor:pointer;
  transition:all 0.2s ease;
  font-weight:500;
  position:relative;
  overflow:hidden;
}
.tab::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg, var(--primary), var(--primary-hover));
  opacity:0;
  transition:opacity 0.3s ease;
}
.tab span{position:relative; z-index:1}
.tab.active{
  background:linear-gradient(135deg, var(--primary), var(--primary-hover)); 
  color:var(--primary-ink); 
  border-color:transparent; 
  font-weight:600;
  box-shadow:var(--shadow);
  transform:translateY(-1px);
}
.tab:hover:not(.active){
  border-color:var(--primary); 
  color:var(--primary);
  transform:translateY(-1px);
}
.tab:active{transform:translateY(0)}

#views{padding:16px; max-width:1200px; margin:0 auto}
.view{display:none}
.view.active{display:block}

.view-header{display:flex; align-items:center; justify-content:space-between; margin:12px 0}
.inline-stats{display:flex; gap:12px; color:var(--muted)}
.inline-stats .warn{color:var(--warn)}

.panel{
  background:var(--panel); 
  border:1px solid var(--border); 
  border-radius:12px; 
  padding:16px; 
  margin:16px 0;
  box-shadow:var(--shadow);
  transition:all 0.3s ease;
}
.panel:hover{
  box-shadow:var(--shadow-lg);
  border-color:rgba(99,102,241,0.3);
}
.panel.soft{
  background:var(--soft);
  box-shadow:inset 0 2px 8px rgba(0,0,0,0.1);
}
.panel-header{display:flex; flex-direction:column; gap:12px}

.search input{
  width:100%; 
  padding:12px 16px; 
  background:var(--soft); 
  color:var(--text); 
  border:1px solid var(--border); 
  border-radius:10px;
  transition:all 0.2s ease;
  font-size:1rem;
}
.search input:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(99,102,241,0.15), var(--shadow);
}
.search input::placeholder{color:var(--muted); opacity:0.7}

.actions{display:flex; gap:8px; align-items:center}
.actions.end{justify-content:flex-end}

button,.file-btn{
  appearance:none; 
  border:1px solid var(--border); 
  background:var(--soft); 
  color:var(--text); 
  padding:10px 16px; 
  border-radius:10px; 
  cursor:pointer;
  transition:all 0.2s ease;
  font-weight:500;
  box-shadow:var(--shadow);
}
button:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-lg);
  border-color:var(--primary);
}
button:active{transform:translateY(0)}
button.primary{
  background:linear-gradient(135deg, var(--primary), var(--primary-hover)); 
  color:var(--primary-ink); 
  border-color:transparent; 
  font-weight:600;
}
button.primary:hover{
  background:linear-gradient(135deg, var(--primary-hover), #7c3aed);
  transform:translateY(-2px);
}
button.secondary{
  background:linear-gradient(135deg, #6b7280, #4b5563); 
  color:#ffffff; 
  border-color:transparent;
}
button.secondary:hover{
  background:linear-gradient(135deg, #4b5563, #374151);
}
button.ghost{
  background:transparent; 
  color:var(--muted);
  box-shadow:none;
}
button.ghost:hover{
  background:var(--soft);
  color:var(--text);
}
button.danger{
  background:transparent; 
  color:var(--danger); 
  border-color:var(--danger);
  box-shadow:none;
}
button.danger:hover{
  background:rgba(239,68,68,0.1);
  border-color:#dc2626;
}
button:disabled{
  opacity:.5; 
  cursor:not-allowed;
  transform:none;
}
button:disabled:hover{
  transform:none;
  box-shadow:var(--shadow);
}
.file-btn{
  display:inline-flex; 
  align-items:center; 
  gap:8px; 
  position:relative; 
  overflow:hidden;
}
.file-btn input[type=file]{position:absolute; inset:0; opacity:0; cursor:pointer}

.grid-2{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px}
.grid-3{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px}
@media (max-width: 900px){.grid-2,.grid-3{grid-template-columns:1fr}}

label{
  display:flex; 
  flex-direction:column; 
  gap:6px; 
  color:var(--muted);
  font-weight:500;
  font-size:0.9rem;
}
input,select,textarea{
  padding:12px 14px; 
  background:var(--soft); 
  color:var(--text); 
  border:1px solid var(--border); 
  border-radius:10px;
  transition:all 0.2s ease;
  font-family:inherit;
}
input:focus,select:focus,textarea:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(99,102,241,0.1);
}
input:hover,select:hover,textarea:hover{
  border-color:rgba(99,102,241,0.5);
}
textarea{min-height:72px; resize:vertical}

.table-wrap{
  overflow:auto; 
  border-radius:12px; 
  border:1px solid var(--border);
  box-shadow:var(--shadow);
}
table{
  width:100%; 
  border-collapse:collapse; 
  background:rgba(15,19,32,0.6);
}
thead{
  background:linear-gradient(135deg, var(--primary), var(--primary-hover));
  position:sticky;
  top:0;
  z-index:10;
}
th,td{
  padding:12px 16px; 
  border-bottom:1px solid rgba(99,102,241,0.1); 
  text-align:left;
}
th{
  color:var(--primary-ink);
  font-weight:600;
  font-size:0.85rem;
  text-transform:uppercase;
  letter-spacing:0.5px;
}
tbody tr{transition:background 0.2s ease}
tbody tr:nth-child(even){background:rgba(255,255,255,0.02)}
tbody tr:hover{
  background:rgba(99,102,241,0.1);
  cursor:pointer;
}
tr.low{
  background:linear-gradient(90deg, rgba(255,209,102,0.15), transparent);
  border-left:3px solid var(--warn);
}
tr.low:hover{background:linear-gradient(90deg, rgba(255,209,102,0.2), transparent)}

[data-theme="light"] table{ background:rgba(255,255,255,0.8) }
[data-theme="light"] thead{ background:linear-gradient(135deg, var(--primary), var(--primary-hover)) }
[data-theme="light"] th, [data-theme="light"] td{ border-bottom:1px solid rgba(99,102,241,0.15) }
[data-theme="light"] tbody tr:nth-child(even){background:rgba(0,0,0,0.02)}
[data-theme="light"] tbody tr:hover{ background:rgba(99,102,241,0.08) }
[data-theme="light"] tr.low{
  background:linear-gradient(90deg, rgba(255,209,102,0.2), transparent);
}
[data-theme="light"] tr.low:hover{background:linear-gradient(90deg, rgba(255,209,102,0.3), transparent)}

.right{text-align:right}
.total{font-weight:700}

.dialog{
  border:1px solid var(--border); 
  border-radius:16px; 
  padding:0; 
  background:var(--panel); 
  color:var(--text);
  box-shadow:var(--shadow-lg);
  backdrop-filter:blur(20px);
  max-width:600px;
}
.dialog::backdrop{
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(4px);
}
.dialog form{padding:24px}
.dialog form h3{
  margin:0 0 20px; 
  font-size:1.4rem;
  background:linear-gradient(135deg, var(--primary), var(--primary-hover));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.dialog menu{
  display:flex; 
  gap:10px; 
  justify-content:flex-end; 
  padding:16px 24px; 
  margin:0; 
  border-top:1px solid var(--border);
  background:rgba(0,0,0,0.1);
}
[data-theme="light"] .dialog menu{background:rgba(0,0,0,0.03)}

.status{
  background:rgba(11,14,23,0.8); 
  padding:16px; 
  border-radius:12px; 
  border:1px solid var(--border); 
  color:#b7c0cf; 
  white-space:pre-wrap;
  font-family:'Courier New', monospace;
  font-size:0.9rem;
  line-height:1.6;
  box-shadow:inset 0 2px 8px rgba(0,0,0,0.3);
}
[data-theme="light"] .status{ 
  background:rgba(243,244,246,0.9); 
  color:#111827; 
  border-color:#e5e7eb;
  box-shadow:inset 0 2px 8px rgba(0,0,0,0.05);
}

.app-footer{display:flex; justify-content:space-between; padding:12px 16px; color:var(--muted); border-top:1px solid var(--border)}

.header-actions{display:flex; gap:8px; align-items:center}

.hint{color:var(--muted); margin-top:8px}
.badge{
  display:inline-block; 
  padding:4px 10px; 
  border-radius:999px; 
  background:linear-gradient(135deg, #374151, #1f2937); 
  color:#e5e7eb; 
  border:1px solid #4b5563;
  font-size:0.85rem;
  font-weight:600;
  box-shadow:var(--shadow);
}
.badge.warn{
  background:linear-gradient(135deg, rgba(255,209,102,0.2), rgba(255,209,102,0.1)); 
  color:#ffd166; 
  border-color:#ffd166;
}
[data-theme="light"] .badge{ 
  background:linear-gradient(135deg, #f3f4f6, #e5e7eb); 
  color:#111827; 
  border-color:#cbd5e1;
}
[data-theme="light"] .badge.warn{ 
  background:linear-gradient(135deg, #fff7e6, #fef3c7); 
  color:#b45309; 
  border-color:#f5d48a;
}

/* Login screen */
.login-screen{
  position:fixed; 
  inset:0; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  background:linear-gradient(135deg, #0e1117 0%, #1a1f2e 50%, #2d1b69 100%); 
  z-index:9999; 
  padding:20px;
}
[data-theme="light"] .login-screen{
  background:linear-gradient(135deg, #f0f4f8 0%, #dbeafe 50%, #e0e7ff 100%);
}
.login-box{
  background:rgba(15,19,32,0.9); 
  border:1px solid rgba(99,102,241,0.3); 
  border-radius:20px; 
  padding:48px; 
  width:100%; 
  max-width:440px; 
  box-shadow:0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(99,102,241,0.1); 
  margin:auto;
  backdrop-filter:blur(20px);
  animation:fadeInUp 0.4s ease;
}
[data-theme="light"] .login-box{
  background:rgba(255,255,255,0.95);
  border-color:rgba(99,102,241,0.2);
}
@keyframes fadeInUp{
  from{opacity:0; transform:translateY(20px)}
  to{opacity:1; transform:translateY(0)}
}
.login-header{text-align:center; margin-bottom:32px}
.login-header .logo{
  width:72px; 
  height:72px; 
  margin:0 auto 20px; 
  display:grid; 
  place-items:center; 
  background:linear-gradient(135deg, var(--primary), var(--primary-hover)); 
  border-radius:16px; 
  border:none; 
  font-size:36px;
  box-shadow:var(--shadow-lg);
}
.login-header h1{
  margin:0 0 8px; 
  font-size:28px;
  background:linear-gradient(135deg, var(--primary), var(--primary-hover));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.login-header p{margin:0; color:var(--muted); font-size:0.95rem}
.login-form{display:flex; flex-direction:column; gap:20px}
.login-form label{
  display:flex; 
  flex-direction:column; 
  gap:8px; 
  color:var(--text); 
  font-weight:500;
  font-size:0.95rem;
}
.login-form input{
  padding:14px 16px; 
  background:var(--soft); 
  color:var(--text); 
  border:1px solid var(--border); 
  border-radius:12px; 
  font-size:16px;
  transition:all 0.2s ease;
}
.login-form input:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(99,102,241,0.15);
}
.login-form button{
  padding:14px; 
  font-size:16px; 
  margin-top:12px;
  font-weight:600;
}

/* Utility animations */
@keyframes slideDown{
  from{opacity:0; transform:translateY(-10px)}
  to{opacity:1; transform:translateY(0)}
}
@keyframes pulse{
  0%, 100%{opacity:1}
  50%{opacity:0.7}
}
.animate-slide{animation:slideDown 0.3s ease}
.animate-pulse{animation:pulse 2s ease-in-out infinite}

/* Loading states */
.loading{
  position:relative;
  pointer-events:none;
  opacity:0.6;
}
.loading::after{
  content:'';
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.3);
  border-radius:inherit;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Mobile improvements */
@media (max-width: 768px){
  .app-header{
    flex-wrap:wrap;
    gap:12px;
  }
  .tabs{
    width:100%;
    justify-content:flex-start;
    overflow-x:auto;
    padding-bottom:8px;
  }
  .tab{
    white-space:nowrap;
    flex-shrink:0;
  }
  .view-header{
    flex-direction:column;
    align-items:flex-start;
    gap:12px;
  }
  .actions{
    width:100%;
    flex-wrap:wrap;
  }
  .dialog{
    max-width:calc(100vw - 32px);
  }
  .login-box{
    padding:32px 24px;
  }
  .table-wrap{
    border-radius:8px;
  }
  button{
    padding:12px 14px;
    font-size:0.9rem;
  }
}

/* Print styles for invoice */
@media print {
  body { background:#fff; color:#000 }
  .app-header, .tabs, .app-footer, #view-inventory, #view-customers, #view-suppliers, #view-export, #view-sync, #view-settings { display:none !important }
  #view-billing { display:block }
  .panel, .panel.soft { border:none; background:#fff; }
  button{display:none}
}
